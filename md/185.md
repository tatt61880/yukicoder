途中で条件を満たすことができないことが判ったタイミングで、\(-1\) を出力してプログラムを終了すれば良いです。

ループの1回目に ans = y - x として、その後矛盾がないかをチェックしていきましょう。